"use strict";Object.defineProperty(exports, "__esModule", {value: true}); function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _chunkUWTQKD35js = require('./chunk-UWTQKD35.js');
require('./chunk-YUG22S6W.js');

// node/plugins/unocss.ts
var _path = require('path');
var _fs = require('fs');
var _utils = require('@antfu/utils');
var _unocss = require('unocss');
var _jiti = require('jiti'); var _jiti2 = _interopRequireDefault(_jiti);
var _vite = require('unocss/vite'); var _vite2 = _interopRequireDefault(_vite);
async function createUnocssPlugin({ themeRoots, addonRoots, clientRoot, roots, userRoot, data }, { unocss: unoOptions = {} }) {
  const configFiles = _utils.uniq.call(void 0, [
    _path.resolve.call(void 0, userRoot, "uno.config.ts"),
    _path.resolve.call(void 0, userRoot, "unocss.config.ts"),
    ...themeRoots.map((i) => `${i}/uno.config.ts`),
    ...themeRoots.map((i) => `${i}/unocss.config.ts`),
    ...addonRoots.map((i) => `${i}/uno.config.ts`),
    ...addonRoots.map((i) => `${i}/unocss.config.ts`),
    _path.resolve.call(void 0, clientRoot, "uno.config.ts"),
    _path.resolve.call(void 0, clientRoot, "unocss.config.ts")
  ]).filter((i) => _fs.existsSync.call(void 0, i));
  const configs = configFiles.map((i) => {
    const loaded = _jiti2.default.call(void 0, __filename)(i);
    const config2 = "default" in loaded ? loaded.default : loaded;
    return config2;
  }).filter(Boolean);
  configs.reverse();
  let config = _unocss.mergeConfigs.call(void 0, [...configs, unoOptions]);
  config = await _chunkUWTQKD35js.loadSetups.call(void 0, roots, "unocss.ts", {}, config, (a, b) => _unocss.mergeConfigs.call(void 0, [a, b]));
  config.theme ||= {};
  config.theme.fontFamily ||= {};
  config.theme.fontFamily.sans ||= data.config.fonts.sans.join(",");
  config.theme.fontFamily.mono ||= data.config.fonts.mono.join(",");
  config.theme.fontFamily.serif ||= data.config.fonts.serif.join(",");
  return _vite2.default.call(void 0, {
    configFile: false,
    configDeps: configFiles,
    ...config
  });
}


exports.createUnocssPlugin = createUnocssPlugin;
